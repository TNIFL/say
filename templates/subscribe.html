{% extends "base.html" %}

{% block title %}Lexinoa{% endblock %}
{% block description %}Lexinoa 구독 – 모두 같은 성능, 사용 범위와 자동화에서 차이가 납니다. Free(월 30회), Pro(월 사실상 무제한), 비로그인(일 5회).{% endblock %}

{% set force_no_ads = True %}

{% block head_extra %}
  <style>
    :root {
      --bg:#12151b;         /* 약간 밝게 */
      --panel:#1a1f27;
      --text:#e8ecf2;
      --muted:#99a1b6;
      --border:#2b3142;
      --accent:#3b82f6;
      --shadow:0 8px 24px rgba(0,0,0,.25);
    }
    body.light {
      --bg:#f3f5f9;         /* 완전 흰색 대신 은은한 회백색 */
      --panel:#ffffff;
      --text:#1b1e25;
      --muted:#6f7380;
      --border:#d5d7df;
      --accent:#2563eb;
      --shadow:0 4px 12px rgba(0,0,0,.1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,Apple SD Gothic Neo,Arial,sans-serif;
      transition:background .3s, color .3s;
      color-scheme: dark;
    }
    body.light{ color-scheme: light; }
    body, .card, .badge, .plan, .btn, .site-header {
      transition: background-color 0.6s ease,
                color 0.6s ease,
                border-color 0.6s ease,
                box-shadow 0.6s ease;
    }

    .main{max-width:1100px; margin:24px auto; padding:16px}
    .stack{display:grid; gap:16px}
    .card{ background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:16px; box-shadow:var(--shadow); }
    .card h3{margin:0 0 10px 0}
    .small{color:var(--muted); font-size:12px}
    .muted{color:var(--muted)}
    .hint{border-left:3px solid var(--border); padding-left:10px}

    .row{display:grid; gap:12px}
    .row.cols-1{grid-template-columns:1fr}
    .row.cols-2{grid-template-columns:1fr 1fr}
    .row.cols-3{grid-template-columns:1fr 1fr 1fr}
    @media (max-width:1000px){ .row.cols-3{grid-template-columns:1fr} }
    @media (max-width:880px){ .row.cols-2{grid-template-columns:1fr} }

    .btn{
      appearance:none; border:none; cursor:pointer; padding:12px 16px;
      border-radius:12px; font-weight:800; background:var(--accent); color:#fff;
      transition:.15s transform ease, .15s opacity;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
      min-height: 40px;
    }
    .btn.secondary{background:none; border:1px solid var(--border); color:var(--text)}
    .btn.ghost{background:transparent; border:1px solid var(--border); color:var(--text)}
    .btn:active{transform:translateY(1px)}

    .site-header{ position: sticky; top:0; z-index:50; backdrop-filter: blur(10px); background: color-mix(in srgb, var(--bg) 88%, transparent); border-bottom: 1px solid var(--border); }
    .site-header .inner{ max-width:1100px; margin:0 auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .brand{ display:inline-flex; align-items:center; gap:10px; text-decoration:none; color:var(--text); }
    .brand-mark{ width:28px; height:28px; border-radius:10px; display:inline-grid; place-items:center; background: linear-gradient(135deg, var(--accent), #91f2c3); box-shadow: 0 6px 16px rgba(0,0,0,.20), inset 0 0 0 1px rgba(255,255,255,.12); }
    .brand-mark svg{ width:16px; height:16px; fill:#0b1020 }
    .brand-title{ font-weight:800; letter-spacing:.2px; background: linear-gradient(90deg, var(--accent), #91f2c3); -webkit-background-clip:text; background-clip:text; color:transparent; font-size:16px; }
    .header-actions{ display:flex; align-items:center; gap:8px }

    table{ width:100%; border-collapse:collapse; }
    th, td{ padding:12px; border-top:1px solid var(--border); border-bottom:1px solid var(--border); text-align:left; }
    th{ background: color-mix(in srgb, var(--panel) 92%, transparent); }

    .badge{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:700; border:1px solid var(--border); color:var(--text); background:transparent; font-size:12px }
    .badge.gold {
      border-color:#f8e48b;
      color:#f6e7a8;
      background:rgba(255, 230, 150, .08);
    }
    body.light .badge.gold {
      border-color:#e6b800;
      color:#7a5800;
      background:#fff5cc;
      box-shadow:inset 0 0 0 1px rgba(0,0,0,0.05);
    }

    .plan{ position:relative; display:grid; gap:10px; padding:18px; border-radius:16px; border:1px solid var(--border); background:var(--panel); box-shadow:var(--shadow); }
    .plan.recommended{ outline:2px solid color-mix(in srgb, var(--accent) 32%, transparent); }
    .price{ font-size:28px; font-weight:900; letter-spacing:.2px }
    .price .unit{ font-size:14px; color:var(--muted); font-weight:600 }
    .list{ display:grid; gap:8px; margin:0; padding:0; list-style:none }
    .list li{ display:flex; gap:10px; align-items:flex-start }
    .check{ width:18px; height:18px; display:inline-grid; place-items:center; border-radius:6px; background: color-mix(in srgb, var(--accent) 35%, transparent); border:1px solid var(--border) }

    .faq-item{ border:1px solid var(--border); border-radius:12px; padding:12px; background:var(--panel) }
    .faq-q{ display:flex; justify-content:space-between; align-items:center; cursor:pointer; user-select:none; }
    .faq-a{ display:none; color:var(--muted); margin-top:10px }
    .faq-item.open .faq-a{ display:block }

    .theme-toggle{cursor:pointer; background:none; border:1px solid var(--border); color:var(--text); padding:8px 12px; border-radius:12px; font-size:13px}
    .banner{padding:12px 14px;border-radius:10px;margin:0 0 12px}
    .banner.error {
      background: #161b22;
      border: 1px solid #ea1010;
      color: #ffd9d9;
    }
    .banner.info {
      background: #14191f;
      border: 1px solid #4a78c2;
      color: #d7e2ff;
    }
  </style>
{% endblock %}

{% block content %}
  {# subscribe.html #}
  <br>
  {% set pay_error = session.pop('pay_error', None) %}
  {% if request.args.get('pay') == 'failed' and pay_error %}
    <div class="banner error" role="alert">
      <strong>{{ _("결제 실패") }}</strong> — {{ pay_error.message }}
      {% if pay_error.code %}<div class="small" style="opacity:.7">코드: {{ pay_error.code }}</div>{% endif %}
    </div>
  {% endif %}
  <br>
  <!-- Hero -->
  <section class="card" style="text-align:center; padding:28px 18px;">
    <div class="badge gold">{{ _("성능은 모두 동일 · 사용 범위와 자동화에서 차이가 납니다") }}</div>
    <h1 id="pageTitle" style="margin:10px 0 6px 0; font-size:28px; letter-spacing:.2px;">{{ _("구독 & 가격") }}</h1>
    <p class="muted" style="margin:0 auto; max-width:720px">{{ _("비로그인 5회/일 · Free 30회/월 · Pro 사실상 무제한(공정 이용 1,000회). 채널 자동 감지, 다국어 문화 보정, 템플릿 무제한 등 생산성 기능은 Pro에서 제공됩니다.") }}</p>
  </section>
  <br>
  <!-- Plans -->
  <section class="row cols-3">
    <!-- Guest -->
    <div class="plan card">
      <div class="badge">{{ _("체험용") }}</div>
      <h3 style="margin:6px 0 2px">{{ _("비로그인") }}</h3>
      <div class="price">₩0 <span class="unit">{{ _("/ 하루") }}</span></div>
      <ul class="list">
        <br>
        <li><span class="check">✓</span><span>{{ _("하루 5회 체험") }}</span></li>
        <li><span class="check">✓</span><span>{{ _("로그인 없이 바로 사용") }}</span></li>
        <li><span class="check">✓</span><span>{{ _("동일한 성능") }}</span></li>
        <li><span class="check">–</span><span>{{ _("히스토리/템플릿 저장은 미지원") }}</span></li>
      </ul>
      <div style="display:flex; gap:8px; margin-top:6px;">
        <a class="btn secondary" href="/">{{ _("지금 체험") }}</a>
        <a class="btn ghost" href="{{ url_for('auth.login_page') }}">{{ _("로그인") }}</a>
      </div>
    </div>

    <!-- Free -->
    <div class="plan card">
      <div class="badge">{{ _("기본 계정") }}</div>
      <h3 style="margin:6px 0 2px">Free</h3>
      <div class="price">₩0 <span class="unit">{{ _("/ 월") }}</span></div>
      <ul class="list">
        <br>
        <li><span class="check">✓</span><span>{{ _("월 30회 사용") }}</span></li>
        <li><span class="check">✓</span><span>{{ _("히스토리 7일 보관") }}</span></li>
        <li><span class="check">✓</span><span>{{ _("동일한 성능") }}</span></li>
        <li><span class="check">–</span><span>{{ _("채널 자동 감지/템플릿 무제한은 Pro에서") }}</span></li>
      </ul>
      <div style="display:flex; gap:8px; margin-top:6px;">
        {% if session.get('user') %}
          <a class="btn secondary" href="/">{{ _("바로 사용") }}</a>
        {% else %}
          <a class="btn" href="{{ url_for('auth.signup') }}">{{ _("회원가입") }}</a>
        {% endif %}
      </div>
    </div>

    <!-- Pro -->
    <div class="plan card recommended">
      <div class="badge gold">{{ _("추천") }}</div>
      <h3 style="margin:6px 0 2px">Pro</h3>
      <div class="price">₩4,900 <span class="unit">{{ _("/ 월") }}</span></div>
      <ul class="list">
        <li><span class="check">✓</span><span>{{ _("사실상 무제한 (공정 이용 1,000회/월)") }}</span></li>
        <li><span class="check">✓</span><span>{{ _("Gmail/Slack/Naver 등") }} <b>{{ _("자동 감지(확장 프로그램)") }}</b></span></li>
        <li><span class="check">✓</span><span>{{ _("언어 번역 +") }} <b>{{ _("문화적 맥락 보정 / 추후 추가 예정") }}</b></span></li>
        <li><span class="check">✓</span><span><b>{{ _("템플릿 무제한") }}</b></span></li>
        <li><span class="check">✓</span><span>{{ _("히스토리 무제한") }}</span></li>
      </ul>
      <div style="display:flex; gap:8px; margin-top:6px;">
        <a class="btn" href="/subscribe/checkout">{{ _("지금 구독하기") }}</a>
        <a class="btn secondary" href="/">{{ _("기능 먼저 보기") }}</a>
      </div>
    </div>
  </section>
  <br>
  <!-- Feature Highlights -->
  <section class="card">
    <h3 style="margin:0 0 4px">{{ _("왜 Pro일까?") }}</h3>
    <div class="row cols-3" style="margin-top:6px;">
      <div class="card" style="padding:14px">
        <strong>{{ _("자동 맥락 감지") }}</strong>
        <p class="small muted">{{ _("mail/messenger/notion 등 채널에 맞는 톤을 자동 추천. 클릭 없이 바로 적용.") }}</p>
      </div>
      <div class="card" style="padding:14px">
        <strong>{{ _("실시간 비교 프리뷰") }}</strong>
        <p class="small muted">{{ _("3가지의 옵션을 동시에 제공.") }}</p>
      </div>
      <div class="card" style="padding:14px">
        <strong>{{ _("템플릿 라이브러리") }}</strong>
        <p class="small muted">{{ _("내 문장 습관을 저장·재사용. 변수 치환과 폴더로 팀 문서처럼 정리.") }}</p>
      </div>
    </div>
  </section>
  <br>
  <section class="card">
    <h3 style="margin:0 0 4px">{{ _("크롬 확장 기능") }}</h3>
    <div class="row cols-1" style="margin-top:6px;">
      <div class="card">
        <strong>{{ _("크롬 확장 기능으로 어디서나 사용가능") }}</strong>
        <p class="small muted">{{ _("확장 탭 에서 사용 가능하며, 원하는 문장을 드래그 해서 사용 가능합니다.") }}</p>
        <p class="small muted">{{ _("모든 플랜이 이용 가능하지만 사용 횟수와 편의성은 기존 Lexinoa 페이지를 따릅니다.") }}</p>
        <p class="small muted"><a href="https://chromewebstore.google.com/detail/lexinoa-%EB%AC%B8%EC%9E%A5-%EC%88%9C%ED%99%94-%EB%8F%84%EC%9A%B0%EB%AF%B8/ggmgbbhaidapcbjkmelimhbpagpiejje?hl=ko">{{ _("크롬 확장 추가하기") }}</a></p>
      </div>
    </div>
  </section>
  <br>
  <!-- Comparison Table -->
  <section class="card">
    <h3 style="margin:0 0 4px">{{ _("플랜 비교") }}</h3>
    <table aria-label="{{ _("플랜 비교표") }}">
      <thead>
        <tr>
          <th>{{ _("항목") }}</th>
          <th>{{ _("비로그인") }}</th>
          <th>Free</th>
          <th>Pro</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>{{ _("이용 횟수") }}</td><td>{{ _("5회/일") }}</td><td>{{ _("30회/월") }}</td><td>{{ _("1,000회/월") }}</td></tr>
        <tr><td>{{ _("크롬 확장") }}</td><td>{{ _("가능") }}</td><td>{{ _("가능") }}</td><td>{{ _("가능") }}</td></tr>
        <tr><td>{{ _("성능") }}</td><td colspan="3">{{ _("모두 동일") }}</td></tr>
        <tr><td>{{ _("자동 톤 감지") }}</td><td>—</td><td>—</td><td>{{ _("자동 적용") }}</td></tr>
        <tr><td>{{ _("다국어/문화 보정") }}</td><td>—</td><td>—</td><td>{{ _("한→영 + 문화 보정 (추가 예정)") }}</td></tr>
        <tr><td>{{ _("템플릿") }}</td><td>—</td><td>—</td><td>{{ _("무제한") }}</td></tr>
        <tr><td>{{ _("히스토리") }}</td><td>—</td><td>{{ _("7일") }}</td><td>{{ _("무제한 + 검색") }}</td></tr>
      </tbody>
    </table>
  </section>
  <br>
  <!-- FAQ -->
  <section class="card">
    <h3 style="margin:0 0 6px">{{ _("자주 묻는 질문") }}</h3>
    <div class="stack">
      <div class="faq-item">
        <div class="faq-q"><span>{{ _("Free도 Pro와 같은 성능인가요?") }}</span><button class="btn ghost small" type="button">{{ _("자세히") }}</button></div>
        <div class="faq-a">{{ _("네. 품질은 동일합니다. Pro는 자동화·저장·다국어 등 여러 기능이 추가됩니다.") }}</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>{{ _("결제는 어떻게 취소하나요?") }}</span><button class="btn ghost small" type="button">{{ _("자세히") }}</button></div>
        <div class="faq-a">{{ _("마이페이지 &gt; 구독 관리에서 언제든 해지할 수 있으며, 다음 결제일부터 과금이 중단됩니다.") }}</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>{{ _("회사/팀으로도 사용할 수 있나요?") }}</span><button class="btn ghost small" type="button">{{ _("자세히") }}</button></div>
        <div class="faq-a">{{ _("현재 팀 플랜은 계획되어있지 않으나 추후 추가 할 가능성이 있습니다. 필요 시 문의해주세요.") }}</div>
      </div>
    </div>
  </section>
  <br>
  <!-- CTA -->
  <section class="card" style="text-align:center; padding:24px 16px">
    <h3 style="margin:0 0 6px">{{ _("지금 바로 Pro로 업그레이드") }}</h3>
    <p class="muted" style="margin:0 0 12px">{{ _("동일한 성능, 더 똑똑한 흐름. 한 달 4,900원으로 시간 절약을 시작하세요.") }}</p>
    <div style="display:flex; gap:8px; justify-content:center; flex-wrap:wrap;">
      <a class="btn" href="/subscribe/checkout">{{ _("지금 구독하기") }}</a>
      <a class="btn secondary" href="/">{{ _("기능 먼저 사용해보기") }}</a>
    </div>
  </section>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='js/faq.js') }}" defer></script>
{% endblock %}
